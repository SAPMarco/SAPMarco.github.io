/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/Device"],function(t){"use strict";return{isAbove:function(t,e){var n=t.getDomRef().getBoundingClientRect().top,o=e.getBoundingClientRect().top;return o-n<0},isBelow:function(t,e){var n=t.getDomRef().getBoundingClientRect().top,o=e.getBoundingClientRect().top;return o-n>0},findClosest:function(t,e){var n=null,o=Number.POSITIVE_INFINITY,i=t.getDomRef().getBoundingClientRect().left,r=t.getDomRef().getBoundingClientRect().top;e.forEach(function(t){var e=t.getBoundingClientRect().left,u=t.getBoundingClientRect().top;var g=(e-i)*(e-i)+(u-r)*(u-r);if(g<o){n=t;o=g}});return n},findClosestGridContainer:function(t,e){var n=null,o=Number.POSITIVE_INFINITY,i=t.getDomRef().getBoundingClientRect().top;e.forEach(function(t){var e=t.getBoundingClientRect().top;var r=(e-i)*(e-i);if(r<o){n=t;o=r}});return n},isGridSupportedByBrowser:function(){return!t.browser.msie},makeMatrix:function(t){var e=t.getDomRef(),n=window.getComputedStyle(e),o=this.isGridSupportedByBrowser(),i=o?n.gridTemplateRows.split(/\s+/):[],r=o?n.gridTemplateColumns.split(/\s+/).length:t.IeColumns,u=o?i.length:t.IeRows,g=Array.from(new Array(u),function(){return new Array(r).fill(false)}),l=t.getActiveLayoutSettings(),a={gap:l.getGapInPx(),row:l.getRowSizeInPx(),column:l.getMinColumnSizeInPx()||l.getColumnSizeInPx(),cssRows:i},s=t.getItems();if(!s.length){return[]}s.forEach(function(e){if(!e.getVisible()){return}var n=t.getItemWrapper(e),o=this._getPosition(n.getBoundingClientRect(),t,a);this._addToMatrix(g,o,n)}.bind(this));return g},_getPosition:function(t,e,n){var o=e.getDomRef().getBoundingClientRect(),i=Math.round(t.top-o.top),r=Math.round(t.left-o.left),u=Math.floor(i/(n.row+n.gap)),g=Math.floor(r/(n.column+n.gap)),l=e.getActiveLayoutSettings(),a=l.calculateRowsForItem(t.height),s=l.calculateColumnsForItem(t.width);if(e.getInlineBlockLayout()&&this.isGridSupportedByBrowser()){u=this._findStartRowOnInlineBlockLayout(i,n);a=1}return{xFrom:u,xTo:a+u,yFrom:g,yTo:s+g}},_findStartRowOnInlineBlockLayout:function(t,e){var n=0,o=0,i;for(i=0;i<e.cssRows.length;i++){o+=Math.floor(Number.parseFloat(e.cssRows[i])+e.gap);if(t<o){break}n++}return n},_addToMatrix:function(t,e,n){var o,i;for(o=e.xFrom;o<e.xTo;o++){for(i=e.yFrom;i<e.yTo;i++){t[o][i]=n}}}}});