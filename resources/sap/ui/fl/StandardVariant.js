/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/Change"],function(e){"use strict";var t=function(){};t.prototype.getExecuteOnSelect=function(e){var t=this.getNewestStandardVariantChangeDeleteTheRest(e);if(t){return t.getContent().executeOnSelect}return null};t.prototype.getNewestStandardVariantChangeDeleteTheRest=function(e){var t=this.getStandardVariantChanges(e).sort(function(e,t){var n=new Date(e.getCreation());var a=new Date(t.getCreation());if(isNaN(n.getDate())){return-1}if(isNaN(a.getDate())){return 1}return a-n});var n=t.shift();t.forEach(function(e){e.markForDeletion()});return n};t.prototype.getStandardVariantChanges=function(e){if(!e||typeof e!=="object"){return[]}return Object.keys(e).map(t).filter(n);function t(t){return e[t]}function n(e){return e.getChangeType()==="standardVariant"}};t.prototype.updateExecuteOnSelect=function(e,t){var n=this.getNewestStandardVariantChangeDeleteTheRest(e);if(n){var a=n.getContent();a.executeOnSelect=t;n.setContent(a)}return n};t.prototype._createChangeFile=function(t){var n;t.namespace=t.component+"/changes/standard";t.componentName=t.component;t.changeType="standardVariant";n=e.createInitialFileContent(t);n.content.executeOnSelect=t.executeOnSelect;n.layer="USER";return n};t.prototype.createChangeObject=function(t){var n;var a;n=this._createChangeFile(t);a=new e(n);return a};return new t},true);