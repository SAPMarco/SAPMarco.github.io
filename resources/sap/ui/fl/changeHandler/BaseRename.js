/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/changeHandler/Base","sap/base/Log"],function(e,r){"use strict";var t={createRenameChangeHandler:function(t){t.changePropertyName=t.changePropertyName||"newText";return{applyChange:function(e,n,a){var i=a.modifier;var o=t.propertyName;var p=e.getDefinition();var f=p.texts[t.changePropertyName];var s=f.value;if(p.texts&&f&&typeof s==="string"){e.setRevertData(i.getPropertyBindingOrProperty(n,o));i.setPropertyBindingOrProperty(n,o,s);return true}r.error("Change does not contain sufficient information to be applied: ["+p.layer+"]"+p.namespace+"/"+p.fileName+"."+p.fileType)},revertChange:function(e,n,a){var i=a.modifier;var o=t.propertyName;var p=e.getRevertData();if(p||p===""){i.setPropertyBindingOrProperty(n,o,p);e.resetRevertData();return true}r.error("Change doesn't contain sufficient information to be reverted. Most Likely the Change didn't go through applyChange.")},completeChangeContent:function(r,n,a){var i=r.getDefinition();var o=t.changePropertyName;var p=t.translationTextType;var f=a.modifier.bySelector(r.getSelector(),a.appComponent);i.content.originalControlType=a.modifier.getControlType(f);if(typeof n.value==="string"){e.setTextInChange(i,o,n.value,p)}else{throw new Error("oSpecificChangeInfo.value attribute required")}},getCondenserInfo:function(){return{classificationType:sap.ui.fl.ClassificationType.LastOneWins,uniqueKey:t.propertyName}}}}};return t},true);