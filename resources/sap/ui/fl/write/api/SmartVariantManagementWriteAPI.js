/*
 * ! OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/apply/_internal/flexState/compVariants/Utils","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/write/_internal/flexState/compVariants/CompVariantState","sap/ui/fl/write/_internal/transport/TransportSelection","sap/ui/fl/registry/Settings"],function(n,t,e,r,a){"use strict";function i(e,r){e.persistencyKey=n.getPersistencyKey(e.control);if(!e.reference){e.reference=t.getFlexReferenceForControl(e.control)}return r(e)}var u={add:function(n){return i(n,e.add).getId()},addVariant:function(n){n.changeSpecificData.isVariant=true;return i(n,e.add)},updateVariant:function(n){return i(n,e.updateVariant)},removeVariant:function(n){return i(n,e.removeVariant)},revert:function(n){return i(n,e.revert)},save:function(n){return i(n,e.persist)},setDefaultVariantId:function(n){return i(n,e.setDefault)},setExecuteOnSelection:function(n){return i(n,e.setExecuteOnSelection)},isVariantSharingEnabled:function(){return a.getInstance().then(function(n){return n.isVariantSharingEnabled()})},isVariantPersonalizationEnabled:function(){return a.getInstance().then(function(n){return n.isVariantPersonalizationEnabled()})},isVariantAdaptationEnabled:function(){return a.getInstance().then(function(n){return n.isVariantAdaptationEnabled()})},_getTransportSelection:function(){return new r}};return u},true);