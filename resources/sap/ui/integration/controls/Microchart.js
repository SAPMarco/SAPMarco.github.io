/*!
* OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.define(["sap/m/library","sap/ui/core/Control","sap/ui/core/Core"],function(a,e,r){"use strict";var t,i,o,l;var n=a.ValueColor;var s=e.extend("sap.ui.integration.controls.Microchart",{metadata:{library:"sap.ui.integration",properties:{displayValue:{type:"string"},valueColor:{type:"sap.m.ValueColor",defaultValue:n.Neutral}},aggregations:{chart:{type:"sap.ui.core.Control",multiple:false}}},renderer:{apiVersion:2,render:function(a,e){var r="sapUiIntegrationMicrochartValue"+e.getValueColor();a.openStart("div",e).class("sapUiIntegrationMicrochartChartWrapper").openEnd();a.openStart("div").class("sapUiIntegrationMicrochartChart").openEnd().renderControl(e.getChart()).close("div");a.openStart("div").class("sapMSLIInfo").class(r).openEnd().text(e.getDisplayValue()).close("div");a.close("div")}}});s.loadDependencies=function(){return new Promise(function(a,e){r.loadLibrary("sap.suite.ui.microchart",{async:true}).then(function(){sap.ui.require(["sap/suite/ui/microchart/BulletMicroChart","sap/suite/ui/microchart/BulletMicroChartData","sap/suite/ui/microchart/StackedBarMicroChart","sap/suite/ui/microchart/StackedBarMicroChartBar"],function(e,r,n,s){t=e;i=r;o=n;l=s;a()},function(a){e(a)})}).catch(function(){e("The usage of Microcharts is not available with this distribution.")})})};s.create=function(a){var e,r;if(a.type==="Bullet"){var n=[];if(a.thresholds){n=a.thresholds.map(function(a){return new i({value:a.value,color:a.color})})}r=new t({size:"Responsive",minValue:a.minValue,maxValue:a.maxValue,targetValue:a.target,showTargetValue:!!a.target,scaleColor:"Light",scale:a.scale,actual:new i({value:a.value,color:a.color}),thresholds:n});e=new s({valueColor:a.color,displayValue:a.displayValue,chart:r})}if(a.type==="StackedBar"){var u=a.bars.map(function(a){return new l({value:a.value,displayValue:a.displayValue,valueColor:a.color})});r=new o({size:"Responsive",bars:u,maxValue:a.maxValue});e=new s({displayValue:a.displayValue,chart:r})}return e};return s});