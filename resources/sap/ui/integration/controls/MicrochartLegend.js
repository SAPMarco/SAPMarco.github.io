/*!
* OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.define(["./MicrochartLegendRenderer","sap/m/Text","sap/ui/core/Control","sap/ui/integration/util/BindingHelper"],function(t,e,i,n){"use strict";var r=i.extend("sap.ui.integration.controls.MicrochartLegend",{metadata:{library:"sap.ui.integration",aggregations:{_titles:{type:"sap.m.Text",multiple:true,visibility:"hidden"}},associations:{chart:{type:"sap.ui.core.Control",multiple:false}}},renderer:t});r.prototype.onAfterRendering=function(){this._equalizeWidths()};r.prototype._equalizeWidths=function(){var t=this.$().children(".sapUiIntegrationMicrochartLegendItem"),e=0;t.css("width","");t.each(function(){var t=this.getBoundingClientRect().width;if(t>e){e=t}});t.css("min-width",e+"px")};r.prototype.initItemsTitles=function(t,i){this.destroyAggregation("_titles");t.forEach(function(t,r){var a=n.prependRelativePaths(t.legendTitle,i+"/"+r);var s=new e({text:a});s.addEventDelegate({onAfterRendering:this._equalizeWidths},this);this.addAggregation("_titles",s)}.bind(this))};return r});