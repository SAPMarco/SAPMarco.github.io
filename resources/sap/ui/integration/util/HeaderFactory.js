/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./BaseFactory","./CardActions","sap/ui/integration/library","sap/ui/integration/cards/NumericHeader","sap/ui/integration/cards/Header","sap/base/strings/formatMessage"],function(t,a,r,e,s,i){"use strict";var n=r.AreaType;function o(t,a){if(t.parts&&t.translationKey&&t.parts.length===2){var r={parts:[t.translationKey,t.parts[0].toString(),t.parts[1].toString()],formatter:function(a,r,e){var s=r||t.parts[0];var n=e||t.parts[1];if(Array.isArray(r)){s=r.length}if(Array.isArray(e)){n=e.length}var o=parseFloat(s)||0;var p=parseFloat(n)||0;return i(a,[o,p])}};a.bindProperty("statusText",r)}}var p=t.extend("sap.ui.integration.util.HeaderFactory");p.prototype.create=function(t,r){var i,p=this._oCard,c;t=this.createBindingInfos(t,p.getBindingNamespaces());c=new a({card:p,areaType:n.Header});switch(t.type){case"Numeric":i=new e(t,r,p._sAppId);break;default:i=new s(t,r,p._sAppId,p._oIconFormatter);break}if(t.status&&t.status.text&&t.status.text.format){if(t.status.text.format.translationKey){p._loadDefaultTranslations()}o(t.status.text.format,i)}i.setServiceManager(p._oServiceManager);i.setDataProviderFactory(p._oDataProviderFactory);i._setDataConfiguration(t.data);c.attach(t,i);i._oActions=c;if(i._bIsEmpty){i.setVisible(r.getVisible())}return i};return p});