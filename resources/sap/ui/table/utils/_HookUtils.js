/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/base/DataType","sap/base/Log"],function(e,n){"use strict";var t=new window.WeakMap;var r={};var a={};var i={};var s=["function"];var u={};var l={Table:{BindRows:{arguments:["object"]},RowsBound:{arguments:["class:sap.ui.model.Binding"]},UnbindRows:{arguments:["object"]},RowsUnbound:{arguments:[]},RefreshRows:{arguments:[function(n){return n in u.TableUtils.RowsUpdateReason||e.getType("sap.ui.model.ChangeReason").isValid(n)}]},UpdateRows:{arguments:[function(n){return n in u.TableUtils.RowsUpdateReason||e.getType("sap.ui.model.ChangeReason").isValid(n)}]},UpdateSizes:{arguments:[function(n){return n in u.TableUtils.RowsUpdateReason||e.getType("sap.ui.model.ChangeReason").isValid(n)}]},OpenMenu:{arguments:[function(e){return e?typeof e.isOfType==="function":false},"class:sap.ui.unified.Menu"]}},Row:{UpdateState:{arguments:[function(e){return e!=null&&e.hasOwnProperty("context")&&e.hasOwnProperty("Type")&&e.hasOwnProperty("type")&&e.type in e.Type}]}},Column:{MenuItemNotification:{arguments:["class:sap.ui.table.Column"],returnValue:"boolean"}},Signal:{arguments:["string"]}};u.TableUtils=null;u.Keys=a;u.call=function(e,n){var a=t.get(e);if(!d(e)||!f(n)){return undefined}var i=c(n);if(a==null){if(i.returnValue){return[]}return undefined}var s=Array.prototype.slice.call(arguments,2);var l=g(i,s);if(!l){throw new Error("Hook with key "+n+" was not called. Invalid arguments passed\n"+e)}var o=a.map(function(e){if(e.key===r){var t={};var a=e.handlerContext==null?e.target:e.handlerContext;t[n]=s;return u.TableUtils.dynamicCall(e.target,t,a)}else if(e.key===n){return e.handler.apply(e.handlerContext,s)}});o=p(i,o);return o};u.install=function(e,n,a){if(!n||!d(e)){return}var i=t.get(e);if(i==null){i=[]}var s=i.some(function(e){return e.key===r&&e.target===n&&e.handlerContext===a});if(s){return}i.push({key:r,target:n,handlerContext:a});t.set(e,i)};u.uninstall=function(e,n,a){var i=t.get(e);if(i==null||!n){return}for(var s=0;s<i.length;s++){var u=i[s];if(u.key===r&&u.target===n&&u.handlerContext===a){i.splice(s,1);break}}if(i.length===0){t.delete(e)}else{t.set(e,i)}};u.register=function(e,n,r,a){if(typeof r!=="function"||!d(e)||!f(n)){return}var i=t.get(e);if(i==null){i=[]}i.push({key:n,handler:r,handlerContext:a});t.set(e,i)};u.deregister=function(e,n,r,a){var i=t.get(e);if(i==null){return}for(var s=0;s<i.length;s++){var u=i[s];if(u.key===n&&u.handler===r&&u.handlerContext===a){i.splice(s,1);break}}if(i.length===0){t.delete(e)}else{t.set(e,i)}};function o(e,n,t){Object.keys(n).forEach(function(r){var a=t?t+"."+r:r;if("arguments"in n[r]){s.forEach(function(e){if(n[r].arguments.indexOf(e)>-1||n[r].returnValue===e){throw new Error("Forbidden type found in metadata of hook "+t+": "+e)}});e[r]=a;i[a]=n[r]}else{e[r]={};o(e[r],n[r],a)}});return e}o(a,l);function f(e){return e in i}function d(e){return u.TableUtils.isA(e,"sap.ui.table.Table")&&!e.bIsDestroyed&&!e._bIsBeingDestroyed}function c(e){return i[e]}function g(n,t){return n.arguments.length===t.length&&n.arguments.every(function(n,r){if(typeof n==="function"){return n(t[r])}else if(n.startsWith("class:")){return u.TableUtils.isA(t[r],n.substring(6))}else{return e.getType(n).isValid(t[r])}})}function p(n,t){if(!n.returnValue){return undefined}var r=n.returnValue;return t.filter(function(n){if(n==null){return false}else if(typeof r==="function"){return r(n)}else if(r==="Promise"){return n instanceof Promise}else if(r.startsWith("class:")){return u.TableUtils.isA(n,r.substring(6))}else{return e.getType(r).isValid(n)}})}return u},true);